{% extends "base.html" %}
{% block content %}
<div class="main">
  <form action="/">
  <div class="search-container">
    <div class="search-row">
      <input type="text" name='query' class="search-input" placeholder="Digite sua busca aqui...">
      <button class="search-button">Buscar</button>
    </div>
  </div>
  </form>

  <h1>{{length}} Resultados para "{{query}}"</h1>


  {% for result in results %}
  <div class="result-card">
    <h3 class="result-title">
      <a href="/view?file={{result.filename}}">{{result.filename}}</a></h3>
    <p class="result-snippet">
      {{result.snippet | safe}}
    </p>
  </div>
  {% endfor %}
  <div class="page-area">
    <div class="page-button-wrapper">
      {% for page_num in range(1, total_pages + 1) %}
      <a href="?query={{query}}&page={{page_num}}" 
         class="page-button {% if page_num == current_page %}active{% endif %}">
        {{ page_num }}
      </a>
      {% endfor %}
    </div>
  
    <div class="page-controls-wrapper">
      <a href="?query={{query}}&page={{current_page-1}}" 
         class="page-control {% if current_page <= 1 %}disabled{% endif %}">
        Anterior
      </a>
      <a href="?query={{query}}&page={{current_page+1}}" 
         class="page-control {% if current_page >= total_pages %}disabled{% endif %}">
        Mais
      </a>
    </div>
  </div>
  
</div>


{% endblock %}  
